<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Top.subtyping</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Top.subtyping</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Metalib.Metatheory</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Program.Equality.html#"><span class="id" title="library">Program.Equality</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="Top.infra.html#"><span class="id" title="library">infra</span></a>.<br/>

<br/>
</div>

<div class="doc">
Lemma 3 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="sub_regular"><span class="id" title="lemma">sub_regular</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.definition.html#wf_env"><span class="id" title="inductive">wf_env</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHSub1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHSub2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">pick</span> <span class="id" title="tactic">fresh</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> 0 <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">X</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H1</span>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#WFS_rec"><span class="id" title="constructor">WFS_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L</span>);<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Theorem 4 (Reflexivity) 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="refl"><span class="id" title="lemma">refl</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">A</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#wf_env"><span class="id" title="inductive">wf_env</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a>  <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H0</span>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#SA_rec"><span class="id" title="constructor">SA_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="definition">dom</span> <span class="id" title="var">E</span>)...<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="trans_aux"><span class="id" title="lemma">trans_aux</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">B</span> <span class="id" title="var">E</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <span class="id" title="var">A</span> <span class="id" title="var">C</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">B</span> <span class="id" title="var">E</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>;<span class="id" title="tactic">intros</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H0</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H2</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H2</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#sub_regular"><span class="id" title="lemma">sub_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1_</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#sub_regular"><span class="id" title="lemma">sub_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1_0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1_0</span>.<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H2</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#WFS_rec"><span class="id" title="constructor">WFS_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L0</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> <span class="id" title="var">n</span> <span class="id" title="var">X</span> <span class="id" title="var">H4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#sub_regular"><span class="id" title="lemma">sub_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#SA_rec"><span class="id" title="constructor">SA_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="var">L0</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="var">L1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">n</span>:=<span class="id" title="var">n</span>)...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Theorem 5 (Transitivity) 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="Transitivity"><span class="id" title="lemma">Transitivity</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">B</span> <span class="id" title="var">E</span> <span class="id" title="var">A</span> <span class="id" title="var">C</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#trans_aux"><span class="id" title="lemma">trans_aux</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">B</span>:=<span class="id" title="var">B</span>)...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#sub_regular"><span class="id" title="lemma">sub_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="Sub_weakening"><span class="id" title="lemma">Sub_weakening</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#wf_env"><span class="id" title="inductive">wf_env</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>;<span class="id" title="tactic">intros</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#wfs_weakening"><span class="id" title="lemma">wfs_weakening</span></a>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#SA_rec"><span class="id" title="constructor">SA_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="definition">dom</span> (<span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>))...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>)...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="wfs_replacing"><span class="id" title="lemma">wfs_replacing</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> <span class="id" title="var">T</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="Top.subtyping.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">≠</span></a> <a class="idref" href="Top.subtyping.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#Y"><span class="id" title="variable">Y</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="Top.subtyping.html#T"><span class="id" title="variable">T</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>;<span class="id" title="tactic">intros</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">X0</span><span class="id" title="notation">==</span><span class="id" title="var">X</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">analyze_binds</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">Y</span> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#WFS_rec"><span class="id" title="constructor">WFS_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">{{</span><span class="id" title="var">X</span><span class="id" title="notation">}}</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Top.infra.html#subst_open_unfoldn"><span class="id" title="lemma">subst_open_unfoldn</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">Y</span> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="Sub_replacing"><span class="id" title="lemma">Sub_replacing</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">≠</span></a> <a class="idref" href="Top.subtyping.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#wf_env"><span class="id" title="inductive">wf_env</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#Y"><span class="id" title="variable">Y</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#Y"><span class="id" title="variable">Y</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>;<span class="id" title="tactic">intros</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">X0</span><span class="id" title="notation">==</span><span class="id" title="var">X</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">analyze_binds</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#wfs_replacing"><span class="id" title="lemma">wfs_replacing</span></a>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#SA_rec"><span class="id" title="constructor">SA_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L</span>  <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">{{</span><span class="id" title="var">X</span><span class="id" title="notation">}}</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="definition">dom</span> (<span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>) )...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Top.infra.html#subst_open_unfoldn"><span class="id" title="lemma">subst_open_unfoldn</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Top.infra.html#subst_open_unfoldn"><span class="id" title="lemma">subst_open_unfoldn</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">Y</span> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="subst_wfs_unfoldn"><span class="id" title="lemma">subst_wfs_unfoldn</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">n</span> <span class="id" title="var">T</span> <span class="id" title="var">X</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) (<a class="idref" href="Top.definition.html#unfoldT"><span class="id" title="definition">unfoldT</span></a> <a class="idref" href="Top.subtyping.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">Y</span>, <a class="idref" href="Top.subtyping.html#Y"><span class="id" title="variable">Y</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <a class="idref" href="Top.subtyping.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">{{</span><a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a><span class="id" title="notation">}}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <a class="idref" href="Top.subtyping.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#Y"><span class="id" title="variable">Y</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) (<a class="idref" href="Top.definition.html#unfoldT"><span class="id" title="definition">unfoldT</span></a> <a class="idref" href="Top.subtyping.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Top.subtyping.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="Top.subtyping.html#n"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Top.infra.html#unfoldT_subst"><span class="id" title="lemma">unfoldT_subst</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span>:=<span class="id" title="var">X</span>)...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#wfs_replacing"><span class="id" title="lemma">wfs_replacing</span></a>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="subst_sub_unfoldn"><span class="id" title="lemma">subst_sub_unfoldn</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">n</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">X</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) (<a class="idref" href="Top.definition.html#unfoldT"><span class="id" title="definition">unfoldT</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="Top.definition.html#unfoldT"><span class="id" title="definition">unfoldT</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">Y</span>, <a class="idref" href="Top.subtyping.html#Y"><span class="id" title="variable">Y</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">{{</span><a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a><span class="id" title="notation">}}</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#wf_env"><span class="id" title="inductive">wf_env</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#Y"><span class="id" title="variable">Y</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#Y"><span class="id" title="variable">Y</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) (<a class="idref" href="Top.definition.html#unfoldT"><span class="id" title="definition">unfoldT</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.subtyping.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="Top.subtyping.html#n"><span class="id" title="variable">n</span></a>) (<a class="idref" href="Top.definition.html#unfoldT"><span class="id" title="definition">unfoldT</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="Top.subtyping.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="Top.subtyping.html#n"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Top.infra.html#unfoldT_subst"><span class="id" title="lemma">unfoldT_subst</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span>:=<span class="id" title="var">X</span>)...<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> (<a class="idref" href="Top.definition.html#unfoldT"><span class="id" title="definition">unfoldT</span></a> <span class="id" title="var">C</span> <span class="id" title="var">X</span> <span class="id" title="var">n</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Top.infra.html#unfoldT_subst"><span class="id" title="lemma">unfoldT_subst</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span>:=<span class="id" title="var">X</span>)...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#Sub_replacing"><span class="id" title="lemma">Sub_replacing</span></a>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="wfs_permutation"><span class="id" title="lemma">wfs_permutation</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> <span class="id" title="var">E3</span> <span class="id" title="var">A</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> (<a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E3"><span class="id" title="variable">E3</span></a>) <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> (<a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E3"><span class="id" title="variable">E3</span></a>) <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">in_app_iff</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#In_lemmaL"><span class="id" title="lemma">In_lemmaL</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">in_app_iff</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#In_lemmaR"><span class="id" title="lemma">In_lemmaR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#In_lemmaR"><span class="id" title="lemma">In_lemmaR</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#In_lemmaL"><span class="id" title="lemma">In_lemmaL</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">in_app_iff</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#In_lemmaR"><span class="id" title="lemma">In_lemmaR</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#In_lemmaL"><span class="id" title="lemma">In_lemmaL</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#In_lemmaR"><span class="id" title="lemma">In_lemmaR</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#In_lemmaR"><span class="id" title="lemma">In_lemmaR</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#In_lemmaR"><span class="id" title="lemma">In_lemmaR</span></a>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#WFS_rec"><span class="id" title="constructor">WFS_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="Sub_permutation"><span class="id" title="lemma">Sub_permutation</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> <span class="id" title="var">E3</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> (<a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E3"><span class="id" title="variable">E3</span></a>) <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#wf_env"><span class="id" title="inductive">wf_env</span></a> (<a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E3"><span class="id" title="variable">E3</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> (<a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E3"><span class="id" title="variable">E3</span></a>) <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">analyze_binds</span> <span class="id" title="var">H0</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#wfs_permutation"><span class="id" title="lemma">wfs_permutation</span></a>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#SA_rec"><span class="id" title="constructor">SA_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="definition">dom</span> (<span class="id" title="var">E</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E3</span> ))...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E3</span>)...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="strengthening_wfs"><span class="id" title="lemma">strengthening_wfs</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> <span class="id" title="var">T</span> <span class="id" title="var">X</span> <span class="id" title="var">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="Top.subtyping.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="Top.subtyping.html#T"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <a class="idref" href="Top.subtyping.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="Top.subtyping.html#T"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">analyze_binds</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">D.F.singleton_iff</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHWFS1</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">X0</span>:=<span class="id" title="var">X</span>) (<span class="id" title="var">m0</span>:=<span class="id" title="var">m</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHWFS2</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">X0</span>:=<span class="id" title="var">X</span>) (<span class="id" title="var">m0</span>:=<span class="id" title="var">m</span>)...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#WFS_rec"><span class="id" title="constructor">WFS_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">{{</span><span class="id" title="var">X</span><span class="id" title="notation">}}</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">X1</span>:=<span class="id" title="var">X</span>) (<span class="id" title="var">m0</span>:=<span class="id" title="var">m</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#notin_fv_tt_open"><span class="id" title="lemma">notin_fv_tt_open</span></a>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="strengthening_sub"><span class="id" title="lemma">strengthening_sub</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">X</span> <span class="id" title="var">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="Top.subtyping.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="notation">(</span><a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#wf_env"><span class="id" title="inductive">wf_env</span></a>  (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a> ) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">analyze_binds</span> <span class="id" title="var">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="axiom">AtomSetImpl.union_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">D.F.singleton_iff</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#strengthening_wfs"><span class="id" title="lemma">strengthening_wfs</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span>:=<span class="id" title="var">X</span>) (<span class="id" title="var">m</span>:=<span class="id" title="var">m</span>)...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHSub1</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">X0</span>:=<span class="id" title="var">X</span>) (<span class="id" title="var">m0</span>:=<span class="id" title="var">m</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHSub2</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">X0</span>:=<span class="id" title="var">X</span>) (<span class="id" title="var">m0</span>:=<span class="id" title="var">m</span>)...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#SA_rec"><span class="id" title="constructor">SA_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">{{</span><span class="id" title="var">X</span><span class="id" title="notation">}}</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="definition">dom</span> (<span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">X1</span>:=<span class="id" title="var">X</span>) (<span class="id" title="var">m0</span>:=<span class="id" title="var">m</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#notin_union"><span class="id" title="lemma">notin_union</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#notin_fv_tt_open"><span class="id" title="lemma">notin_fv_tt_open</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#notin_fv_tt_open"><span class="id" title="lemma">notin_fv_tt_open</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="subst_rec"><span class="id" title="lemma">subst_rec</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> <span class="id" title="var">X</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#wf_env"><span class="id" title="inductive">wf_env</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span>  <span class="id" title="var">C</span> <span class="id" title="var">D</span> ,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="definition">dom</span> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>)  <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">n</span>, <a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> (<a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Top.definition.html#unfoldT"><span class="id" title="definition">unfoldT</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Top.definition.html#unfoldT"><span class="id" title="definition">unfoldT</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a>) <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a>) <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> <span class="id" title="var">X</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>;<span class="id" title="tactic">intros</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">X0</span><span class="id" title="notation">==</span><span class="id" title="var">X</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#SA_rec"><span class="id" title="constructor">SA_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="notation">{{</span><span class="id" title="var">X</span><span class="id" title="notation">}}</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <span class="id" title="var">C</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <span class="id" title="var">D</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="definition">dom</span> (<span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#subst_sub_unfoldn"><span class="id" title="lemma">subst_sub_unfoldn</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span>:=<span class="id" title="var">X</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">analyze_binds</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#subst_tt_wfs2"><span class="id" title="lemma">subst_tt_wfs2</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#wfs_permutation"><span class="id" title="lemma">wfs_permutation</span></a>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHSub1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H5</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H5</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHSub2</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H5</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H5</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Top.definition.html#type"><span class="id" title="inductive">type</span></a> (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <span class="id" title="var">C</span>)). <span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#wfs_type"><span class="id" title="lemma">wfs_type</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">E</span>:=<span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Top.definition.html#type"><span class="id" title="inductive">type</span></a> (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <span class="id" title="var">D</span>)). <span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#wfs_type"><span class="id" title="lemma">wfs_type</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">E</span>:=<span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#SA_rec"><span class="id" title="constructor">SA_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">{{</span><span class="id" title="var">X</span><span class="id" title="notation">}}</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <span class="id" title="var">C</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <span class="id" title="var">D</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <span class="id" title="var">A1</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <span class="id" title="var">A2</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="definition">dom</span> (<span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Top.infra.html#subst_open_unfoldn"><span class="id" title="lemma">subst_open_unfoldn</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Top.infra.html#subst_open_unfoldn"><span class="id" title="lemma">subst_open_unfoldn</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span>  (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#wfs_weakening"><span class="id" title="lemma">wfs_weakening</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span>  (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#wfs_weakening"><span class="id" title="lemma">wfs_weakening</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H5</span> <span class="id" title="var">n0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Top.definition.html#unfoldT"><span class="id" title="definition">unfoldT</span></a> <span class="id" title="var">C</span> <span class="id" title="var">X</span> <span class="id" title="var">n0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Top.definition.html#unfoldT"><span class="id" title="definition">unfoldT</span></a> <span class="id" title="var">D</span> <span class="id" title="var">X</span> <span class="id" title="var">n0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Top.definition.html#type"><span class="id" title="inductive">type</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick</span> <span class="id" title="tactic">fresh</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Top.infra.html#unfoldT_subst"><span class="id" title="lemma">unfoldT_subst</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span>:=<span class="id" title="var">Y</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#subst_tt_type"><span class="id" title="lemma">subst_tt_type</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#type_unfoldT"><span class="id" title="lemma">type_unfoldT</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Top.definition.html#type"><span class="id" title="inductive">type</span></a> <span class="id" title="var">t0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick</span> <span class="id" title="tactic">fresh</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Top.infra.html#unfoldT_subst"><span class="id" title="lemma">unfoldT_subst</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span>:=<span class="id" title="var">Y</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#subst_tt_type"><span class="id" title="lemma">subst_tt_type</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#type_unfoldT"><span class="id" title="lemma">type_unfoldT</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Top.infra.html#subst_open_unfoldn"><span class="id" title="lemma">subst_open_unfoldn</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Top.infra.html#subst_open_unfoldn"><span class="id" title="lemma">subst_open_unfoldn</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick</span> <span class="id" title="tactic">fresh</span> <span class="id" title="var">X1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <span class="id" title="var">X</span> <span class="id" title="var">t</span> <span class="id" title="var">A1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <span class="id" title="var">X</span> <span class="id" title="var">t0</span> <span class="id" title="var">A2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<span class="id" title="var">X</span> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>) .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#subst_sub_unfoldn"><span class="id" title="lemma">subst_sub_unfoldn</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span>:=<span class="id" title="var">X1</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#Sub_permutation"><span class="id" title="lemma">Sub_permutation</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H5</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">X0</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <span class="id" title="var">t1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#notin_fv_subst"><span class="id" title="lemma">notin_fv_subst</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#notin_fv_tt_open"><span class="id" title="lemma">notin_fv_tt_open</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">X0</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <span class="id" title="var">t2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#notin_fv_subst"><span class="id" title="lemma">notin_fv_subst</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#notin_fv_tt_open"><span class="id" title="lemma">notin_fv_tt_open</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">X1</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <span class="id" title="var">t1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#notin_fv_subst"><span class="id" title="lemma">notin_fv_subst</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">X1</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <span class="id" title="var">t2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#notin_fv_subst"><span class="id" title="lemma">notin_fv_subst</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Lemma 7 

<div class="paragraph"> </div>

Note: Here <i>unfoldT</i> is a syntax sugar representing finite unfolding.
We show the formulation after desugaring them in the paper.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="subst_rec_col"><span class="id" title="lemma">subst_rec_col</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">X</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> (<a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a>) <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#wf_env"><span class="id" title="inductive">wf_env</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span>  <span class="id" title="var">C</span> <span class="id" title="var">D</span> ,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="definition">dom</span> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">n</span>, <a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> (<a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a>) (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Top.definition.html#unfoldT"><span class="id" title="definition">unfoldT</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Top.definition.html#unfoldT"><span class="id" title="definition">unfoldT</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a>) <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a>) <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">E</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H5</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.definition.html#empty"><span class="id" title="abbreviation">empty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#Sub_permutation"><span class="id" title="lemma">Sub_permutation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#subst_rec"><span class="id" title="lemma">subst_rec</span></a>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Lemma 8 (Unfolding Lemma) 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="unfolding_lemma"><span class="id" title="lemma">unfolding_lemma</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="Top.definition.html#open_tt"><span class="id" title="definition">open_tt</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a>)) (<a class="idref" href="Top.definition.html#open_tt"><span class="id" title="definition">open_tt</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a>)).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">pick</span> <span class="id" title="tactic">fresh</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">X</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">WF</span> := <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> 0 <span class="id" title="var">X</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Top.definition.html#wf_env"><span class="id" title="inductive">wf_env</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">E</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#sub_regular"><span class="id" title="lemma">sub_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Top.definition.html#open_tt"><span class="id" title="definition">open_tt</span></a> <span class="id" title="var">A</span> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">S</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Top.definition.html#open_tt"><span class="id" title="definition">open_tt</span></a> <span class="id" title="var">B</span> <span class="id" title="var">X</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">T</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#subst_rec_col"><span class="id" title="lemma">subst_rec_col</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span>:=<span class="id" title="var">X</span>) (<span class="id" title="var">C</span>:=<span class="id" title="var">A</span>) (<span class="id" title="var">D</span>:=<span class="id" title="var">B</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Top.infra.html#subst_tt_intro"><span class="id" title="lemma">subst_tt_intro</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Top.infra.html#subst_tt_intro"><span class="id" title="lemma">subst_tt_intro</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#WFS_rec"><span class="id" title="constructor">WFS_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">{{</span><span class="id" title="var">X</span><span class="id" title="notation">}}</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">X0</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">WF</span> <span class="id" title="var">n</span> <span class="id" title="var">X0</span> <span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#sub_regular"><span class="id" title="lemma">sub_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">WF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span>)...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#WFS_rec"><span class="id" title="constructor">WFS_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">{{</span><span class="id" title="var">X</span><span class="id" title="notation">}}</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">X0</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">WF</span> <span class="id" title="var">n</span> <span class="id" title="var">X0</span> <span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#sub_regular"><span class="id" title="lemma">sub_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">WF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span>)...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Top.infra.html#unfoldSn"><span class="id" title="lemma">unfoldSn</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Top.infra.html#unfoldSn"><span class="id" title="lemma">unfoldSn</span></a>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Lemma 17 

<div class="paragraph"> </div>

Note: Lemma 17, 19 and 20 have syntax sugar <i>chooseS</i> and <i>chooseD</i>. 
We show the formulation after desugaring them in the paper.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="gnegative_lemma"><span class="id" title="lemma">gnegative_lemma</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">X</span> <span class="id" title="var">m</span> <span class="id" title="var">E2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#NTyp"><span class="id" title="inductive">NTyp</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="Top.subtyping.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> , <a class="idref" href="Top.definition.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.definition.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a> (<a class="idref" href="Top.definition.html#chooseS"><span class="id" title="definition">chooseS</span></a> <a class="idref" href="Top.subtyping.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="Top.definition.html#chooseS"><span class="id" title="definition">chooseS</span></a> <a class="idref" href="Top.subtyping.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">X</span> <span class="id" title="notation">==</span> <span class="id" title="var">X</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Top.infra.html#chooseS_arrow"><span class="id" title="lemma">chooseS_arrow</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Top.infra.html#chooseS_arrow"><span class="id" title="lemma">chooseS_arrow</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H2</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Top.infra.html#chooseS_arrow"><span class="id" title="lemma">chooseS_arrow</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Top.infra.html#chooseS_arrow"><span class="id" title="lemma">chooseS_arrow</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H2</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHNTyp</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Top.infra.html#chooseS_mu"><span class="id" title="lemma">chooseS_mu</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Top.infra.html#chooseS_mu"><span class="id" title="lemma">chooseS_mu</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H3</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick</span> <span class="id" title="tactic">fresh</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#strengthening_sub"><span class="id" title="lemma">strengthening_sub</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span>:=<span class="id" title="var">Y</span>) (<span class="id" title="var">m</span>:=<a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Top.infra.html#chooseD_unfold"><span class="id" title="lemma">chooseD_unfold</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Top.infra.html#chooseD_unfold"><span class="id" title="lemma">chooseD_unfold</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H3</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H3</span> 0 <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Y</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L0</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#sub_regular"><span class="id" title="lemma">sub_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H4</span>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Lemma 19 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="negative_lemma"><span class="id" title="lemma">negative_lemma</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">C</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> <span class="id" title="var">X</span> <span class="id" title="var">D</span> <span class="id" title="var">m</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Der"><span class="id" title="inductive">Der</span></a> <a class="idref" href="Top.subtyping.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#NTyp"><span class="id" title="inductive">NTyp</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="Top.subtyping.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">`</span><span class="id" title="notation">in</span><span class="id" title="notation">`</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">`</span><span class="id" title="notation">in</span><span class="id" title="notation">`</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a> (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Top.definition.html#UnfoldS"><span class="id" title="definition">UnfoldS</span></a> <a class="idref" href="Top.subtyping.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a>) <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a>) (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Top.definition.html#UnfoldS"><span class="id" title="definition">UnfoldS</span></a> <a class="idref" href="Top.subtyping.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a>) <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a> (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a>) (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a>                                                <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a> (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Top.definition.html#UnfoldS"><span class="id" title="definition">UnfoldS</span></a> <a class="idref" href="Top.subtyping.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a>) <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a>) (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Top.definition.html#UnfoldS"><span class="id" title="definition">UnfoldS</span></a> <a class="idref" href="Top.subtyping.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a>) <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <span class="id" title="var">E</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#sub_regular"><span class="id" title="lemma">sub_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#wfs_type"><span class="id" title="lemma">wfs_type</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#wfs_type"><span class="id" title="lemma">wfs_type</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#gnegative_lemma"><span class="id" title="lemma">gnegative_lemma</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">C</span> := <span class="id" title="var">A</span>) (<span class="id" title="var">D</span> := <span class="id" title="var">B</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#Sub_eq"><span class="id" title="lemma">Sub_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHDer</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#NMu"><span class="id" title="constructor">NMu</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n</span>:=<span class="id" title="var">n</span>) (<span class="id" title="var">L</span>:=<span class="id" title="notation">{{</span><span class="id" title="var">X0</span><span class="id" title="notation">}}</span><span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <span class="id" title="var">A</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <span class="id" title="var">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#ntyp_rename"><span class="id" title="lemma">ntyp_rename</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span>:=<span class="id" title="var">X0</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#in_notin"><span class="id" title="lemma">in_notin</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">T</span>:= <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <span class="id" title="var">C</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#in_notin"><span class="id" title="lemma">in_notin</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">T</span>:= <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <span class="id" title="var">D</span>)...<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Lemma 16 part 1 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="der_sub_whole"><span class="id" title="lemma">der_sub_whole</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">E1</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">E2</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span>, <a class="idref" href="Top.definition.html#Der"><span class="id" title="inductive">Der</span></a> <a class="idref" href="Top.subtyping.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Lemma 16 part 2 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="der_sub_sub"><span class="id" title="lemma">der_sub_sub</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">E1</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">E2</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Der"><span class="id" title="inductive">Der</span></a> <a class="idref" href="Top.subtyping.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> .<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">IHDer</span>;<span class="id" title="tactic">auto</span>]...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">IHDer</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick</span> <span class="id" title="tactic">fresh</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">X</span> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="var">E2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#subst_sub_unfoldn"><span class="id" title="lemma">subst_sub_unfoldn</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span>:=<span class="id" title="var">Y</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Y</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> 0 <span class="id" title="var">Y</span> <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#sub_regular"><span class="id" title="lemma">sub_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">IHDer</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick</span> <span class="id" title="tactic">fresh</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">X</span> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="var">E2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#subst_sub_unfoldn"><span class="id" title="lemma">subst_sub_unfoldn</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span>:=<span class="id" title="var">Y</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Y</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> 0 <span class="id" title="var">Y</span> <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#sub_regular"><span class="id" title="lemma">sub_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Lemma 20 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="sub_generalize_intensive"><span class="id" title="lemma">sub_generalize_intensive</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">C</span> <span class="id" title="var">D</span> <span class="id" title="var">X</span> <span class="id" title="var">m</span>, <a class="idref" href="Top.definition.html#Der"><span class="id" title="inductive">Der</span></a> <a class="idref" href="Top.subtyping.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">`</span><span class="id" title="notation">in</span><span class="id" title="notation">`</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">`</span><span class="id" title="notation">in</span><span class="id" title="notation">`</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a> (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Top.definition.html#UnfoldS"><span class="id" title="definition">UnfoldS</span></a> <a class="idref" href="Top.subtyping.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a>) <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a>) (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Top.definition.html#UnfoldS"><span class="id" title="definition">UnfoldS</span></a> <a class="idref" href="Top.subtyping.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a>) <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a> (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a>) (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) (<a class="idref" href="Top.definition.html#chooseD"><span class="id" title="definition">chooseD</span></a> <a class="idref" href="Top.subtyping.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Top.subtyping.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="Top.definition.html#chooseD"><span class="id" title="definition">chooseD</span></a> <a class="idref" href="Top.subtyping.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Top.subtyping.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Top.definition.html#chooseD"><span class="id" title="definition">chooseD</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">destruct</span> (<span class="id" title="var">X</span> <span class="id" title="notation">==</span> <span class="id" title="var">X0</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Top.subtyping.html#negative_lemma"><span class="id" title="lemma">negative_lemma</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">E1</span> := <span class="id" title="var">E1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#Sub_weakening"><span class="id" title="lemma">Sub_weakening</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#Sub_weakening"><span class="id" title="lemma">Sub_weakening</span></a>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Top.definition.html#chooseD"><span class="id" title="definition">chooseD</span></a>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#subst_tt_wfs"><span class="id" title="lemma">subst_tt_wfs</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#der_sub_whole"><span class="id" title="lemma">der_sub_whole</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#sub_regular"><span class="id" title="lemma">sub_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#wfs_weakening"><span class="id" title="lemma">wfs_weakening</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#subst_tt_wfs"><span class="id" title="lemma">subst_tt_wfs</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#wfs_unfoldS"><span class="id" title="lemma">wfs_unfoldS</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#subst_tt_wfs"><span class="id" title="lemma">subst_tt_wfs</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#der_sub_whole"><span class="id" title="lemma">der_sub_whole</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#sub_regular"><span class="id" title="lemma">sub_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#wfs_weakening"><span class="id" title="lemma">wfs_weakening</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#subst_tt_wfs"><span class="id" title="lemma">subst_tt_wfs</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#wfs_unfoldS"><span class="id" title="lemma">wfs_unfoldS</span></a>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Top.infra.html#chooseD_arrow"><span class="id" title="lemma">chooseD_arrow</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Top.infra.html#chooseD_arrow"><span class="id" title="lemma">chooseD_arrow</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#DFun2"><span class="id" title="constructor">DFun2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHSub1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#DFun1"><span class="id" title="constructor">DFun1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Top.infra.html#chooseD_mu"><span class="id" title="lemma">chooseD_mu</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Top.infra.html#chooseD_mu"><span class="id" title="lemma">chooseD_mu</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#SA_rec"><span class="id" title="constructor">SA_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span> := <span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <span class="id" title="var">A1</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <span class="id" title="var">A2</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <span class="id" title="var">C</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <span class="id" title="var">D</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">{{</span><span class="id" title="var">X</span><span class="id" title="notation">}}</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="definition">dom</span> <span class="id" title="var">E1</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="definition">dom</span> <span class="id" title="var">E2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">X0</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">H0</span> <span class="id" title="var">n0</span> <span class="id" title="var">X0</span> <span class="id" title="var">H6</span> (<span class="id" title="var">X0</span> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span>)) <span class="id" title="keyword">with</span> (<span class="id" title="var">m</span>:=<span class="id" title="var">m</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#der_sub_whole"><span class="id" title="lemma">der_sub_whole</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#sub_regular"><span class="id" title="lemma">sub_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#wfs_type"><span class="id" title="lemma">wfs_type</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#wfs_type"><span class="id" title="lemma">wfs_type</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Top.infra.html#chooseS_unfold"><span class="id" title="lemma">chooseS_unfold</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Top.infra.html#chooseS_unfold"><span class="id" title="lemma">chooseS_unfold</span></a>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Lemma 21 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="sub_subst"><span class="id" title="lemma">sub_subst</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <span class="id" title="var">X</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <span class="id" title="var">n</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Top.definition.html#UnfoldS"><span class="id" title="definition">UnfoldS</span></a> <a class="idref" href="Top.subtyping.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a>) <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> (<a class="idref" href="Top.definition.html#UnfoldS"><span class="id" title="definition">UnfoldS</span></a> <a class="idref" href="Top.subtyping.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a>) <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">E</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a>(<span class="id" title="var">A</span>) <span class="id" title="notation">\</span><span class="id" title="notation">u</span>  <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a>(<span class="id" title="var">B</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span> <span class="id" title="notation">\</span><span class="id" title="notation">in</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a>(<span class="id" title="var">A</span>) <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a>(<span class="id" title="var">B</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#in_dec"><span class="id" title="lemma">in_dec</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#notin_union"><span class="id" title="lemma">notin_union</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">FX</span> := <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">FY</span> := <span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#subst_tt_fresh"><span class="id" title="lemma">subst_tt_fresh</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">U</span> := <a class="idref" href="Top.definition.html#UnfoldS"><span class="id" title="definition">UnfoldS</span></a> <span class="id" title="var">n</span> <span class="id" title="var">X</span> <span class="id" title="var">A</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#subst_tt_fresh"><span class="id" title="lemma">subst_tt_fresh</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">U</span> := <a class="idref" href="Top.definition.html#UnfoldS"><span class="id" title="definition">UnfoldS</span></a> <span class="id" title="var">n</span> <span class="id" title="var">X</span> <span class="id" title="var">B</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#subst_tt_fresh"><span class="id" title="lemma">subst_tt_fresh</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">U</span> := <span class="id" title="var">A</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">FX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#subst_tt_fresh"><span class="id" title="lemma">subst_tt_fresh</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">U</span> := <span class="id" title="var">B</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">FY</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">FX</span> <span class="id" title="tactic">in</span>  ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">FY</span> <span class="id" title="tactic">in</span>  ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Top.subtyping.html#sub_generalize_intensive"><span class="id" title="lemma">sub_generalize_intensive</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">m</span> := <a class="idref" href="Top.definition.html#Pos"><span class="id" title="constructor">Pos</span></a>) (<span class="id" title="var">E1</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">IHn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="axiom">AtomSetImpl.union_1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="completeness_wf"><span class="id" title="lemma">completeness_wf</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">A</span>, <a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.definition.html#WF"><span class="id" title="inductive">WF</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#WF_rec"><span class="id" title="constructor">WF_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span> := <span class="id" title="var">L</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> 0 <span class="id" title="var">X</span> <span class="id" title="var">H1</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Theorem 15 (Completeness of algorithmic subtyping) 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="completeness"><span class="id" title="lemma">completeness</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.definition.html#sub"><span class="id" title="inductive">sub</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#completeness_wf"><span class="id" title="lemma">completeness_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#sa_rec"><span class="id" title="constructor">sa_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span> := <span class="id" title="var">L</span>); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> 0 <span class="id" title="var">X</span> <span class="id" title="var">H1</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> 1 <span class="id" title="var">X</span> <span class="id" title="var">H1</span>); <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="wfs_generalize"><span class="id" title="lemma">wfs_generalize</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">n</span> <span class="id" title="var">E</span> <span class="id" title="var">X</span> <span class="id" title="var">A</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="Top.definition.html#open_tt"><span class="id" title="definition">open_tt</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> (<a class="idref" href="Top.definition.html#typ_fvar"><span class="id" title="constructor">typ_fvar</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="Top.definition.html#unfoldT"><span class="id" title="definition">unfoldT</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#n"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>;<span class="id" title="tactic">intros</span>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Top.infra.html#subst_tt_intro"><span class="id" title="lemma">subst_tt_intro</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span>:=<span class="id" title="var">X</span>)...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#subst_tt_wfs"><span class="id" title="lemma">subst_tt_wfs</span></a>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="soundness_wf"><span class="id" title="lemma">soundness_wf</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">A</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#WF"><span class="id" title="inductive">WF</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#WFS_rec"><span class="id" title="constructor">WFS_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span> := <span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <span class="id" title="var">A</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">X</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">X</span> <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#wfs_generalize"><span class="id" title="lemma">wfs_generalize</span></a>...<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Theorem 22 (Soundness of algorithmic subtyping) 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="soundness"><span class="id" title="lemma">soundness</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#sub"><span class="id" title="inductive">sub</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#soundness_wf"><span class="id" title="lemma">soundness_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#SA_rec"><span class="id" title="constructor">SA_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span> := <span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <span class="id" title="var">A1</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <span class="id" title="var">A2</span>); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">X</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">X</span> <span class="id" title="var">H4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H2</span> <span class="id" title="var">X</span> <span class="id" title="var">H4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Top.infra.html#subst_tt_intro"><span class="id" title="lemma">subst_tt_intro</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span>:=<span class="id" title="var">X</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <span class="id" title="var">X</span> (<a class="idref" href="Top.definition.html#open_tt"><span class="id" title="definition">open_tt</span></a> <span class="id" title="var">A1</span> <span class="id" title="var">X</span>) (<a class="idref" href="Top.definition.html#open_tt"><span class="id" title="definition">open_tt</span></a> <span class="id" title="var">A1</span> <span class="id" title="var">X</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Top.infra.html#subst_tt_intro"><span class="id" title="lemma">subst_tt_intro</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span>:=<span class="id" title="var">X</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> (<span class="id" title="var">X</span> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span>) (<a class="idref" href="Top.definition.html#open_tt"><span class="id" title="definition">open_tt</span></a> <span class="id" title="var">A1</span> <span class="id" title="var">X</span>) (<a class="idref" href="Top.definition.html#open_tt"><span class="id" title="definition">open_tt</span></a> <span class="id" title="var">A2</span> <span class="id" title="var">X</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Top.definition.html#open_tt"><span class="id" title="definition">open_tt</span></a> <span class="id" title="var">A1</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Top.definition.html#open_tt"><span class="id" title="definition">open_tt</span></a> <span class="id" title="var">A2</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#sub_subst"><span class="id" title="lemma">sub_subst</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span>:=<span class="id" title="var">X</span>) (<span class="id" title="var">n</span>:=<span class="id" title="var">n</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Top.infra.html#unfoldS_unfoldT"><span class="id" title="lemma">unfoldS_unfoldT</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Top.infra.html#unfoldS_unfoldT"><span class="id" title="lemma">unfoldS_unfoldT</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Theorem 13 (Reflexivity) 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="refl_algo"><span class="id" title="lemma">refl_algo</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">A</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#wf_env"><span class="id" title="inductive">wf_env</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.definition.html#sub"><span class="id" title="inductive">sub</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a>  <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H0</span>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#sa_rec"><span class="id" title="constructor">sa_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="definition">dom</span> <span class="id" title="var">E</span>)...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">X</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Top.definition.html#wf_env"><span class="id" title="inductive">wf_env</span></a> (<span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> 0 <span class="id" title="var">X</span> <span class="id" title="var">H3</span> <span class="id" title="var">H4</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">X</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Top.definition.html#wf_env"><span class="id" title="inductive">wf_env</span></a> (<span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> 1 <span class="id" title="var">X</span> <span class="id" title="var">H3</span> <span class="id" title="var">H4</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>...<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Lemma 12  
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="suba_regular"><span class="id" title="lemma">suba_regular</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#sub"><span class="id" title="inductive">sub</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.definition.html#wf_env"><span class="id" title="inductive">wf_env</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Top.definition.html#WF"><span class="id" title="inductive">WF</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Top.definition.html#WF"><span class="id" title="inductive">WF</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHsub1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHsub2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">pick</span> <span class="id" title="tactic">fresh</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H2</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">X</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H3</span>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#WF_rec"><span class="id" title="constructor">WF_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L</span>);<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="trans_aux_algo"><span class="id" title="lemma">trans_aux_algo</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">B</span> <span class="id" title="var">E</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <span class="id" title="var">A</span> <span class="id" title="var">C</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#sub"><span class="id" title="inductive">sub</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.definition.html#sub"><span class="id" title="inductive">sub</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.definition.html#sub"><span class="id" title="inductive">sub</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">B</span> <span class="id" title="var">E</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>;<span class="id" title="tactic">intros</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H0</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H2</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H2</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#suba_regular"><span class="id" title="lemma">suba_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1_</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#suba_regular"><span class="id" title="lemma">suba_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1_0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1_0</span>.<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H3</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#WF_rec"><span class="id" title="constructor">WF_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L0</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span>  <span class="id" title="var">X</span> <span class="id" title="var">H5</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#suba_regular"><span class="id" title="lemma">suba_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H6</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#sa_rec"><span class="id" title="constructor">sa_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="var">L0</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="var">L1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">n</span>:=0);<span class="id" title="tactic">simpl</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H3</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">n</span>:=1);<span class="id" title="tactic">simpl</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H4</span>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Theorem 14 (Transitivity) 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="trans_algo"><span class="id" title="lemma">trans_algo</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">B</span> <span class="id" title="var">E</span> <span class="id" title="var">A</span> <span class="id" title="var">C</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#sub"><span class="id" title="inductive">sub</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.definition.html#sub"><span class="id" title="inductive">sub</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.definition.html#sub"><span class="id" title="inductive">sub</span></a> <a class="idref" href="Top.subtyping.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#C"><span class="id" title="variable">C</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#trans_aux_algo"><span class="id" title="lemma">trans_aux_algo</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">B</span>:=<span class="id" title="var">B</span>)...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#suba_regular"><span class="id" title="lemma">suba_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#soundness_wf"><span class="id" title="lemma">soundness_wf</span></a>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="sub_replacing"><span class="id" title="lemma">sub_replacing</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#sub"><span class="id" title="inductive">sub</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">≠</span></a> <a class="idref" href="Top.subtyping.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#wf_env"><span class="id" title="inductive">wf_env</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#Y"><span class="id" title="variable">Y</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#sub"><span class="id" title="inductive">sub</span></a> (<a class="idref" href="Top.subtyping.html#E1"><span class="id" title="variable">E1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.subtyping.html#Y"><span class="id" title="variable">Y</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="Top.subtyping.html#E2"><span class="id" title="variable">E2</span></a>) (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a>) (<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#Y"><span class="id" title="variable">Y</span></a> <a class="idref" href="Top.subtyping.html#B"><span class="id" title="variable">B</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>;<span class="id" title="tactic">intros</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">X0</span><span class="id" title="notation">==</span><span class="id" title="var">X</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">analyze_binds</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#completeness_wf"><span class="id" title="lemma">completeness_wf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#wfs_replacing"><span class="id" title="lemma">wfs_replacing</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#soundness_wf"><span class="id" title="lemma">soundness_wf</span></a>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#sa_rec"><span class="id" title="constructor">sa_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L</span>  <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">{{</span><span class="id" title="var">X</span><span class="id" title="notation">}}</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="definition">dom</span> (<span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>) )...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>  <a class="idref" href="Top.infra.html#subst_tt_open_tt_var"><span class="id" title="lemma">subst_tt_open_tt_var</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Top.infra.html#subst_tt_open_tt_var"><span class="id" title="lemma">subst_tt_open_tt_var</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">Y</span> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Top.infra.html#subst_tt_open_tt_var"><span class="id" title="lemma">subst_tt_open_tt_var</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Top.infra.html#subst_tt_open_tt_var"><span class="id" title="lemma">subst_tt_open_tt_var</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Top.infra.html#subst_tt_open_tt"><span class="id" title="lemma">subst_tt_open_tt</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Top.infra.html#subst_tt_open_tt"><span class="id" title="lemma">subst_tt_open_tt</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">Y</span> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="open_subst_twice"><span class="id" title="lemma">open_subst_twice</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">A</span> (<span class="id" title="var">X</span> <span class="id" title="var">Y</span>:<span class="id" title="abbreviation">atom</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="Top.definition.html#fv_tt"><span class="id" title="definition">fv_tt</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#subst_tt"><span class="id" title="definition">subst_tt</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="Top.subtyping.html#Y"><span class="id" title="variable">Y</span></a> (<a class="idref" href="Top.definition.html#open_tt"><span class="id" title="definition">open_tt</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> (<a class="idref" href="Top.definition.html#open_tt"><span class="id" title="definition">open_tt</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#X"><span class="id" title="variable">X</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="Top.definition.html#open_tt"><span class="id" title="definition">open_tt</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> (<a class="idref" href="Top.definition.html#open_tt"><span class="id" title="definition">open_tt</span></a> <a class="idref" href="Top.subtyping.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.subtyping.html#Y"><span class="id" title="variable">Y</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Top.definition.html#open_tt"><span class="id" title="definition">open_tt</span></a> <span class="id" title="var">A</span> <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Top.infra.html#subst_tt_open_tt"><span class="id" title="lemma">subst_tt_open_tt</span></a>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Top.infra.html#subst_tt_fresh"><span class="id" title="lemma">subst_tt_fresh</span></a>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Top.infra.html#subst_tt_intro"><span class="id" title="lemma">subst_tt_intro</span></a>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>