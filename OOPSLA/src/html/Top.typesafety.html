<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Top.typesafety</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Top.typesafety</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Metalib.Metatheory</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Program.Equality.html#"><span class="id" title="library">Program.Equality</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="Top.subtyping.html#"><span class="id" title="library">subtyping</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="wf_typ_from_wf_env_typ"><span class="id" title="lemma">wf_typ_from_wf_env_typ</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">T</span> <span class="id" title="var">E</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Top.definition.html#wf_env"><span class="id" title="inductive">wf_env</span></a> (<a class="idref" href="Top.typesafety.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_typ"><span class="id" title="constructor">bind_typ</span></a> <a class="idref" href="Top.typesafety.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.typesafety.html#E"><span class="id" title="variable">E</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> <a class="idref" href="Top.typesafety.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.typesafety.html#T"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">T</span> <span class="id" title="var">E</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="wf_typ_from_binds_typ"><span class="id" title="lemma">wf_typ_from_binds_typ</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">U</span> <span class="id" title="var">E</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Top.definition.html#wf_env"><span class="id" title="inductive">wf_env</span></a> <a class="idref" href="Top.typesafety.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">binds</span> <a class="idref" href="Top.typesafety.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="Top.definition.html#bind_typ"><span class="id" title="constructor">bind_typ</span></a> <a class="idref" href="Top.typesafety.html#U"><span class="id" title="variable">U</span></a>) <a class="idref" href="Top.typesafety.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> <a class="idref" href="Top.typesafety.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.typesafety.html#U"><span class="id" title="variable">U</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">intros</span> <span class="id" title="var">J</span>; <span class="id" title="var">analyze_binds</span> <span class="id" title="var">J</span>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHwf_env</span> <span class="id" title="tactic">in</span> <span class="id" title="var">BindsTac</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#wfs_weakening"><span class="id" title="lemma">wfs_weakening</span></a>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">BindsTacVal</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>...<br/>
&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_typ"><span class="id" title="constructor">bind_typ</span></a> <span class="id" title="var">T</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#wfs_weakening"><span class="id" title="lemma">wfs_weakening</span></a>...<br/>
&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_typ"><span class="id" title="constructor">bind_typ</span></a> <span class="id" title="var">T</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#wfs_weakening"><span class="id" title="lemma">wfs_weakening</span></a>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="wf_typ_strengthening"><span class="id" title="lemma">wf_typ_strengthening</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">x</span> <span class="id" title="var">U</span> <span class="id" title="var">T</span>,<br/>
&nbsp;<a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> (<a class="idref" href="Top.typesafety.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.typesafety.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_typ"><span class="id" title="constructor">bind_typ</span></a> <a class="idref" href="Top.typesafety.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.typesafety.html#E"><span class="id" title="variable">E</span></a>) <a class="idref" href="Top.typesafety.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> (<a class="idref" href="Top.typesafety.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.typesafety.html#E"><span class="id" title="variable">E</span></a>) <a class="idref" href="Top.typesafety.html#T"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="var">simpl_env</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">x</span> <span class="id" title="var">U</span> <span class="id" title="var">T</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="var">F</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">x</span> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_typ"><span class="id" title="constructor">bind_typ</span></a> <span class="id" title="var">U</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">G</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">F</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">F</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">subst</span>...<br/>
&nbsp;&nbsp;<span class="id" title="var">analyze_binds</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#WFS_rec"><span class="id" title="constructor">WFS_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">F</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="wf_env_strengthening"><span class="id" title="lemma">wf_env_strengthening</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">T</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Top.definition.html#wf_env"><span class="id" title="inductive">wf_env</span></a> (<a class="idref" href="Top.typesafety.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.typesafety.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_typ"><span class="id" title="constructor">bind_typ</span></a> <a class="idref" href="Top.typesafety.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.typesafety.html#E"><span class="id" title="variable">E</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Top.definition.html#wf_env"><span class="id" title="inductive">wf_env</span></a> (<a class="idref" href="Top.typesafety.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.typesafety.html#E"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Top.typesafety.html#wf_typ_strengthening"><span class="id" title="lemma">wf_typ_strengthening</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">F</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Wf_env</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Wf_env</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">simpl_env</span> <span class="id" title="tactic">in</span> ×...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="wfs_open_type2"><span class="id" title="lemma">wfs_open_type2</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">A</span> <span class="id" title="var">G</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> <a class="idref" href="Top.typesafety.html#G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <a class="idref" href="Top.typesafety.html#A"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> <a class="idref" href="Top.typesafety.html#G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Top.definition.html#open_tt"><span class="id" title="definition">open_tt</span></a> <a class="idref" href="Top.typesafety.html#A"><span class="id" title="variable">A</span></a> (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <a class="idref" href="Top.typesafety.html#A"><span class="id" title="variable">A</span></a>)).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">pick</span> <span class="id" title="tactic">fresh</span> <span class="id" title="var">X</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Top.infra.html#subst_tt_intro"><span class="id" title="lemma">subst_tt_intro</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span>:=<span class="id" title="var">X</span>)...<br/>
&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#subst_tt_wfs2"><span class="id" title="lemma">subst_tt_wfs2</span></a>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#WFS_rec"><span class="id" title="constructor">WFS_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L</span>)...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>...<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> 0 <span class="id" title="var">X</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Top.definition.html#unfoldT"><span class="id" title="definition">unfoldT</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span>)...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="typing_regular"><span class="id" title="lemma">typing_regular</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Top.definition.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="Top.typesafety.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.typesafety.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Top.typesafety.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Top.definition.html#wf_env"><span class="id" title="inductive">wf_env</span></a> <a class="idref" href="Top.typesafety.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Top.definition.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="Top.typesafety.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> <a class="idref" href="Top.typesafety.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.typesafety.html#T"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#wf_typ_from_binds_typ"><span class="id" title="lemma">wf_typ_from_binds_typ</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span>:=<span class="id" title="var">x</span>)...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick</span> <span class="id" title="tactic">fresh</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Y</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#lc_abs"><span class="id" title="constructor">lc_abs</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#wfs_type"><span class="id" title="lemma">wfs_type</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">G</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#wf_typ_strengthening"><span class="id" title="lemma">wf_typ_strengthening</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span>:=<span class="id" title="var">Y</span>) (<span class="id" title="var">U</span>:=<span class="id" title="var">T1</span>)...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHtyping1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHtyping2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHtyping</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#lc_fold"><span class="id" title="constructor">lc_fold</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#wfs_type"><span class="id" title="lemma">wfs_type</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">E</span>:=<span class="id" title="var">G</span>)...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHtyping</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#lc_unfold"><span class="id" title="constructor">lc_unfold</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#wfs_type"><span class="id" title="lemma">wfs_type</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">E</span>:=<span class="id" title="var">G</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#wfs_open_type2"><span class="id" title="lemma">wfs_open_type2</span></a>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHtyping</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#sub_regular"><span class="id" title="lemma">sub_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="typing_weakening"><span class="id" title="lemma">typing_weakening</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> <span class="id" title="var">E3</span> <span class="id" title="var">e</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#typing"><span class="id" title="inductive">typing</span></a> (<a class="idref" href="Top.typesafety.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.typesafety.html#E3"><span class="id" title="variable">E3</span></a>) <a class="idref" href="Top.typesafety.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Top.typesafety.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#wf_env"><span class="id" title="inductive">wf_env</span></a> (<a class="idref" href="Top.typesafety.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.typesafety.html#E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.typesafety.html#E3"><span class="id" title="variable">E3</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#typing"><span class="id" title="inductive">typing</span></a> (<a class="idref" href="Top.typesafety.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.typesafety.html#E2"><span class="id" title="variable">E2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.typesafety.html#E3"><span class="id" title="variable">E3</span></a>) <a class="idref" href="Top.typesafety.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Top.typesafety.html#T"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="var">simpl_env</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Top.typesafety.html#wf_typ_from_wf_env_typ"><span class="id" title="lemma">wf_typ_from_wf_env_typ</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E3</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">E1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>;<span class="id" title="tactic">intros</span>;<span class="id" title="tactic">subst</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#typing_abs"><span class="id" title="constructor">typing_abs</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="definition">dom</span> <span class="id" title="var">E1</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="definition">dom</span> <span class="id" title="var">E2</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="definition">dom</span> <span class="id" title="var">E3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_typ"><span class="id" title="constructor">bind_typ</span></a> <span class="id" title="var">T1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_typ"><span class="id" title="constructor">bind_typ</span></a> <span class="id" title="var">T1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a>  <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#wfs_weakening"><span class="id" title="lemma">wfs_weakening</span></a>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#typing_fold"><span class="id" title="constructor">typing_fold</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#wfs_weakening"><span class="id" title="lemma">wfs_weakening</span></a>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#typing_sub"><span class="id" title="constructor">typing_sub</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">S</span>:=<span class="id" title="var">S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHtyping</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#Sub_weakening"><span class="id" title="lemma">Sub_weakening</span></a>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="uniq_from_wf_env"><span class="id" title="lemma">uniq_from_wf_env</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Top.definition.html#wf_env"><span class="id" title="inductive">wf_env</span></a> <a class="idref" href="Top.typesafety.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="inductive">uniq</span> <a class="idref" href="Top.typesafety.html#E"><span class="id" title="variable">E</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">E</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="strengthening_wfs_typ"><span class="id" title="lemma">strengthening_wfs_typ</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> <span class="id" title="var">S</span> <span class="id" title="var">X</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> (<a class="idref" href="Top.typesafety.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.typesafety.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_typ"><span class="id" title="constructor">bind_typ</span></a> <a class="idref" href="Top.typesafety.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.typesafety.html#E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="Top.typesafety.html#T"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> (<a class="idref" href="Top.typesafety.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.typesafety.html#E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="Top.typesafety.html#T"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">analyze_binds</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHWFS1</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">X0</span>:=<span class="id" title="var">X</span>) (<span class="id" title="var">S0</span>:=<span class="id" title="var">S</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHWFS2</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">X0</span>:=<span class="id" title="var">X</span>) (<span class="id" title="var">S0</span>:=<span class="id" title="var">S</span>)...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#WFS_rec"><span class="id" title="constructor">WFS_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">{{</span><span class="id" title="var">X</span><span class="id" title="notation">}}</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">X1</span>:=<span class="id" title="var">X</span>) (<span class="id" title="var">S0</span>:=<span class="id" title="var">S</span>)...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="strengthening_sub_typ"><span class="id" title="lemma">strengthening_sub_typ</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">E1</span> <span class="id" title="var">E2</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">X</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> (<a class="idref" href="Top.typesafety.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.typesafety.html#X"><span class="id" title="variable">X</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_typ"><span class="id" title="constructor">bind_typ</span></a> <a class="idref" href="Top.typesafety.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.typesafety.html#E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="Top.typesafety.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.typesafety.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#wf_env"><span class="id" title="inductive">wf_env</span></a>  (<a class="idref" href="Top.typesafety.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.typesafety.html#E2"><span class="id" title="variable">E2</span></a> ) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> (<a class="idref" href="Top.typesafety.html#E1"><span class="id" title="variable">E1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.typesafety.html#E2"><span class="id" title="variable">E2</span></a>) <a class="idref" href="Top.typesafety.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Top.typesafety.html#B"><span class="id" title="variable">B</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">analyze_binds</span> <span class="id" title="var">H0</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#strengthening_wfs_typ"><span class="id" title="lemma">strengthening_wfs_typ</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span>:=<span class="id" title="var">X</span>) (<span class="id" title="var">S</span>:=<span class="id" title="var">T</span>) ...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHSub1</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">X0</span>:=<span class="id" title="var">X</span>) (<span class="id" title="var">T0</span>:=<span class="id" title="var">T</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHSub2</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">X0</span>:=<span class="id" title="var">X</span>) (<span class="id" title="var">T0</span>:=<span class="id" title="var">T</span>)...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#SA_rec"><span class="id" title="constructor">SA_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">{{</span><span class="id" title="var">X</span><span class="id" title="notation">}}</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="definition">dom</span> (<span class="id" title="var">E1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">X0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_sub"><span class="id" title="constructor">bind_sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">X1</span>:=<span class="id" title="var">X</span>) (<span class="id" title="var">T0</span>:=<span class="id" title="var">T</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Lemma 9 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="typing_through_subst_ee"><span class="id" title="lemma">typing_through_subst_ee</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">F</span> <span class="id" title="var">U</span> <span class="id" title="var">E</span> <span class="id" title="var">x</span> <span class="id" title="var">T</span> <span class="id" title="var">e</span> <span class="id" title="var">u</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Top.definition.html#typing"><span class="id" title="inductive">typing</span></a> (<a class="idref" href="Top.typesafety.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.typesafety.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_typ"><span class="id" title="constructor">bind_typ</span></a> <a class="idref" href="Top.typesafety.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.typesafety.html#E"><span class="id" title="variable">E</span></a>) <a class="idref" href="Top.typesafety.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Top.typesafety.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Top.definition.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="Top.typesafety.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.typesafety.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Top.typesafety.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Top.definition.html#typing"><span class="id" title="inductive">typing</span></a> (<a class="idref" href="Top.typesafety.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.typesafety.html#E"><span class="id" title="variable">E</span></a>) (<a class="idref" href="Top.definition.html#subst_ee"><span class="id" title="definition">subst_ee</span></a> <a class="idref" href="Top.typesafety.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Top.typesafety.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Top.typesafety.html#e"><span class="id" title="variable">e</span></a>) <a class="idref" href="Top.typesafety.html#T"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="var">F</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">x</span> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_typ"><span class="id" title="constructor">bind_typ</span></a> <span class="id" title="var">U</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">E'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">F</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>;<span class="id" title="tactic">intros</span>;<span class="id" title="tactic">subst</span>;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#wf_env_strengthening"><span class="id" title="lemma">wf_env_strengthening</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">x0</span><span class="id" title="notation">==</span><span class="id" title="var">x</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">analyze_binds_uniq</span> <span class="id" title="var">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#uniq_from_wf_env"><span class="id" title="lemma">uniq_from_wf_env</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">BindsTacVal</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">F</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#typing_weakening"><span class="id" title="lemma">typing_weakening</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#wf_env_strengthening"><span class="id" title="lemma">wf_env_strengthening</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">analyze_binds</span> <span class="id" title="var">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#wf_env_strengthening"><span class="id" title="lemma">wf_env_strengthening</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#wf_env_strengthening"><span class="id" title="lemma">wf_env_strengthening</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#typing_abs"><span class="id" title="constructor">typing_abs</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">{{</span><span class="id" title="var">x</span><span class="id" title="notation">}}</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Top.infra.html#subst_ee_open_ee_var"><span class="id" title="lemma">subst_ee_open_ee_var</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="notation">[</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#bind_typ"><span class="id" title="constructor">bind_typ</span></a> <span class="id" title="var">T1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><span class="id" title="notation">]</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">F</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#typing_fold"><span class="id" title="constructor">typing_fold</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> (<span class="id" title="var">F</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_typ"><span class="id" title="constructor">bind_typ</span></a> <span class="id" title="var">U</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span>) (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <span class="id" title="var">A</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#wf_typ_strengthening"><span class="id" title="lemma">wf_typ_strengthening</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#typing_sub"><span class="id" title="constructor">typing_sub</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">S</span>:=<span class="id" title="var">S</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<span class="id" title="var">F</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_typ"><span class="id" title="constructor">bind_typ</span></a> <span class="id" title="var">U</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">E</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#strengthening_sub_typ"><span class="id" title="lemma">strengthening_sub_typ</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#wf_env_strengthening"><span class="id" title="lemma">wf_env_strengthening</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span>:=<span class="id" title="var">x</span>) (<span class="id" title="var">T</span>:=<span class="id" title="var">U</span>)...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="typing_inv_abs"><span class="id" title="lemma">typing_inv_abs</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">S1</span> <span class="id" title="var">e1</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Top.definition.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="Top.typesafety.html#E"><span class="id" title="variable">E</span></a> (<a class="idref" href="Top.definition.html#exp_abs"><span class="id" title="constructor">exp_abs</span></a> <a class="idref" href="Top.typesafety.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Top.typesafety.html#e1"><span class="id" title="variable">e1</span></a>) <a class="idref" href="Top.typesafety.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">U1</span> <span class="id" title="var">U2</span>, <a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.typesafety.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.typesafety.html#T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Top.definition.html#typ_arrow"><span class="id" title="constructor">typ_arrow</span></a> <a class="idref" href="Top.typesafety.html#U1"><span class="id" title="variable">U1</span></a> <a class="idref" href="Top.typesafety.html#U2"><span class="id" title="variable">U2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.typesafety.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.typesafety.html#U1"><span class="id" title="variable">U1</span></a> <a class="idref" href="Top.typesafety.html#S1"><span class="id" title="variable">S1</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <span class="id" title="var">S2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <span class="id" title="var">L</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span>, <a class="idref" href="Top.typesafety.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">`</span><span class="id" title="notation">notin</span><span class="id" title="notation">`</span> <a class="idref" href="Top.typesafety.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#typing"><span class="id" title="inductive">typing</span></a> (<a class="idref" href="Top.typesafety.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">¬</span> <a class="idref" href="Top.definition.html#bind_typ"><span class="id" title="constructor">bind_typ</span></a> <a class="idref" href="Top.typesafety.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Top.typesafety.html#E"><span class="id" title="variable">E</span></a>) (<a class="idref" href="Top.definition.html#open_ee"><span class="id" title="abbreviation">open_ee</span></a> <a class="idref" href="Top.typesafety.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="Top.typesafety.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Top.typesafety.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.typesafety.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.typesafety.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="Top.typesafety.html#U2"><span class="id" title="variable">U2</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">E</span> <span class="id" title="var">S1</span> <span class="id" title="var">e1</span> <span class="id" title="var">T</span> <span class="id" title="var">Typ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Top.definition.html#exp_abs"><span class="id" title="constructor">exp_abs</span></a> <span class="id" title="var">S1</span> <span class="id" title="var">e1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">e1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">S1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Typ</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">S1</span> <span class="id" title="var">b1</span> <span class="id" title="var">EQ</span> <span class="id" title="var">U1</span> <span class="id" title="var">U2</span> <span class="id" title="var">Sub</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Sub</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">T2</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">L</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">definition.Sub</span></a> <span class="id" title="var">G</span> <span class="id" title="var">S</span> (<a class="idref" href="Top.definition.html#typ_arrow"><span class="id" title="constructor">typ_arrow</span></a> <span class="id" title="var">U1</span> <span class="id" title="var">U2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#Transitivity"><span class="id" title="lemma">Transitivity</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">B</span>:=<span class="id" title="var">T</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Top.definition.html#typing"><span class="id" title="inductive">typing</span></a> <span class="id" title="var">G</span> (<a class="idref" href="Top.definition.html#exp_abs"><span class="id" title="constructor">exp_abs</span></a> <span class="id" title="var">S1</span> <span class="id" title="var">b1</span>) (<a class="idref" href="Top.definition.html#typ_arrow"><span class="id" title="constructor">typ_arrow</span></a> <span class="id" title="var">U1</span> <span class="id" title="var">U2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#typing_sub"><span class="id" title="constructor">typing_sub</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">S</span>:=<span class="id" title="var">S</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H2</span>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="typing_inv_fold"><span class="id" title="lemma">typing_inv_fold</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">S</span> <span class="id" title="var">G</span> <span class="id" title="var">T</span> <span class="id" title="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="Top.typesafety.html#G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Top.definition.html#exp_fold"><span class="id" title="constructor">exp_fold</span></a> <a class="idref" href="Top.typesafety.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Top.typesafety.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="Top.typesafety.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">U</span>, <a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.typesafety.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.typesafety.html#S"><span class="id" title="variable">S</span></a> (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <a class="idref" href="Top.typesafety.html#U"><span class="id" title="variable">U</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <span class="id" title="var">T'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="Top.typesafety.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Top.typesafety.html#v"><span class="id" title="variable">v</span></a> (<a class="idref" href="Top.definition.html#open_tt"><span class="id" title="definition">open_tt</span></a> <a class="idref" href="Top.typesafety.html#T'"><span class="id" title="variable">T'</span></a> (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <a class="idref" href="Top.typesafety.html#T'"><span class="id" title="variable">T'</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.typesafety.html#G"><span class="id" title="variable">G</span></a> (<a class="idref" href="Top.definition.html#open_tt"><span class="id" title="definition">open_tt</span></a> <a class="idref" href="Top.typesafety.html#T'"><span class="id" title="variable">T'</span></a> (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <a class="idref" href="Top.typesafety.html#T'"><span class="id" title="variable">T'</span></a>)) (<a class="idref" href="Top.definition.html#open_tt"><span class="id" title="definition">open_tt</span></a> <a class="idref" href="Top.typesafety.html#U"><span class="id" title="variable">U</span></a> (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <a class="idref" href="Top.typesafety.html#U"><span class="id" title="variable">U</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">U</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>;<span class="id" title="tactic">intros</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">A</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#unfolding_lemma"><span class="id" title="lemma">unfolding_lemma</span></a>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHtyping</span> <span class="id" title="var">T</span> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Top.definition.html#exp_fold"><span class="id" title="constructor">exp_fold</span></a> <span class="id" title="var">T</span> <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Top.definition.html#exp_fold"><span class="id" title="constructor">exp_fold</span></a> <span class="id" title="var">T</span> <span class="id" title="var">v</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHtyping</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">U</span>:=<span class="id" title="var">U</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#Transitivity"><span class="id" title="lemma">Transitivity</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">B</span>:=<span class="id" title="var">T0</span>)...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Theorem 10 (Preservation) 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="preservation"><span class="id" title="lemma">preservation</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">E</span> <span class="id" title="var">e</span> <span class="id" title="var">e'</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="Top.typesafety.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.typesafety.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Top.typesafety.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#step"><span class="id" title="inductive">step</span></a> <a class="idref" href="Top.typesafety.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Top.typesafety.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Top.definition.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="Top.typesafety.html#E"><span class="id" title="variable">E</span></a> <a class="idref" href="Top.typesafety.html#e'"><span class="id" title="variable">e'</span></a> <a class="idref" href="Top.typesafety.html#T"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>;<span class="id" title="tactic">intros</span>;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H1</span>;<span class="id" title="tactic">auto</span>|<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>]...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick</span> <span class="id" title="tactic">fresh</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Top.infra.html#subst_ee_intro"><span class="id" title="lemma">subst_ee_intro</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span>:=<span class="id" title="var">Y</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">G</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#typing_through_subst_ee"><span class="id" title="lemma">typing_through_subst_ee</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">U</span>:=<span class="id" title="var">T1</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#typing_inv_abs"><span class="id" title="lemma">typing_inv_abs</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">U1</span>:=<span class="id" title="var">T1</span>) (<span class="id" title="var">U2</span>:=<span class="id" title="var">T2</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick</span> <span class="id" title="tactic">fresh</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Top.infra.html#subst_ee_intro"><span class="id" title="lemma">subst_ee_intro</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span>:=<span class="id" title="var">Y</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rewrite_alist</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">G</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#typing_through_subst_ee"><span class="id" title="lemma">typing_through_subst_ee</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">U</span>:=<span class="id" title="var">T</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H4</span> <span class="id" title="var">Y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Y</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">x0</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H4</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#typing_sub"><span class="id" title="constructor">typing_sub</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">S</span>:=<span class="id" title="var">x</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#Sub_weakening"><span class="id" title="lemma">Sub_weakening</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#typing_sub"><span class="id" title="constructor">typing_sub</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">S</span>:=<span class="id" title="var">T1</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#typing_app"><span class="id" title="constructor">typing_app</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">T1</span>:=<span class="id" title="var">T1</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#typing_app"><span class="id" title="constructor">typing_app</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">T1</span>:=<span class="id" title="var">T1</span>)...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#typing_inv_fold"><span class="id" title="lemma">typing_inv_fold</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">U</span>:=<span class="id" title="var">T</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#typing_sub"><span class="id" title="constructor">typing_sub</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">S</span>:=<a class="idref" href="Top.definition.html#open_tt"><span class="id" title="definition">open_tt</span></a> <span class="id" title="var">x</span> (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <span class="id" title="var">x</span>))...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#typing_sub"><span class="id" title="constructor">typing_sub</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">S</span>:=<span class="id" title="var">S</span>)...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="canonical_form_abs"><span class="id" title="lemma">canonical_form_abs</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">e</span> <span class="id" title="var">U1</span> <span class="id" title="var">U2</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Top.definition.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="Top.typesafety.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Top.definition.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="Top.definition.html#empty"><span class="id" title="abbreviation">empty</span></a> <a class="idref" href="Top.typesafety.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="Top.definition.html#typ_arrow"><span class="id" title="constructor">typ_arrow</span></a> <a class="idref" href="Top.typesafety.html#U1"><span class="id" title="variable">U1</span></a> <a class="idref" href="Top.typesafety.html#U2"><span class="id" title="variable">U2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <span class="id" title="var">V</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <span class="id" title="var">e1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.typesafety.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Top.definition.html#exp_abs"><span class="id" title="constructor">exp_abs</span></a> <a class="idref" href="Top.typesafety.html#V"><span class="id" title="variable">V</span></a> <a class="idref" href="Top.typesafety.html#e1"><span class="id" title="variable">e1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">U1</span> <span class="id" title="var">U2</span> <span class="id" title="var">Val</span> <span class="id" title="var">Typ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> <a class="idref" href="Top.definition.html#empty"><span class="id" title="abbreviation">empty</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Top.definition.html#typ_arrow"><span class="id" title="constructor">typ_arrow</span></a> <span class="id" title="var">U1</span> <span class="id" title="var">U2</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">T</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">U1</span> <span class="id" title="var">U2</span> <span class="id" title="var">HeqT</span> <span class="id" title="var">HeqE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Typ</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">U1</span> <span class="id" title="var">U2</span> <span class="id" title="var">EQT</span> <span class="id" title="var">EQE</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">inversion</span> <span class="id" title="var">Val</span> | <span class="id" title="tactic">inversion</span> <span class="id" title="var">EQT</span> | <span class="id" title="tactic">eauto</span> ].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="canonical_form_fold"><span class="id" title="lemma">canonical_form_fold</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">e</span> <span class="id" title="var">U</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Top.definition.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="Top.typesafety.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Top.definition.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="Top.definition.html#empty"><span class="id" title="abbreviation">empty</span></a> <a class="idref" href="Top.typesafety.html#e"><span class="id" title="variable">e</span></a> (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <a class="idref" href="Top.typesafety.html#U"><span class="id" title="variable">U</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <span class="id" title="var">V</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <span class="id" title="var">e1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a class="idref" href="Top.definition.html#Sub"><span class="id" title="inductive">Sub</span></a> <a class="idref" href="Top.definition.html#empty"><span class="id" title="abbreviation">empty</span></a> (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <a class="idref" href="Top.typesafety.html#V"><span class="id" title="variable">V</span></a>) (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <a class="idref" href="Top.typesafety.html#U"><span class="id" title="variable">U</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Top.definition.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="Top.typesafety.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="Top.typesafety.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Top.definition.html#exp_fold"><span class="id" title="constructor">exp_fold</span></a> (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <a class="idref" href="Top.typesafety.html#V"><span class="id" title="variable">V</span></a>) <a class="idref" href="Top.typesafety.html#e1"><span class="id" title="variable">e1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span> <span class="id" title="var">U</span> <span class="id" title="var">Val</span> <span class="id" title="var">Typ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> <a class="idref" href="Top.definition.html#empty"><span class="id" title="abbreviation">empty</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <span class="id" title="var">U</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">T</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Top.definition.html#WFS"><span class="id" title="inductive">WFS</span></a> <span class="id" title="var">E</span> <span class="id" title="var">T</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Typ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Typ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>...<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">U</span> <span class="id" title="var">HeqT</span> <span class="id" title="var">HeqE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Typ</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">U</span> <span class="id" title="var">EQT</span> <span class="id" title="var">EQE</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">inversion</span> <span class="id" title="var">Val</span> | <span class="id" title="tactic">inversion</span> <span class="id" title="var">EQT</span> | <span class="id" title="tactic">eauto</span> ].<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">Val</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">A</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#refl"><span class="id" title="lemma">refl</span></a>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHTyp</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">U</span>:=<span class="id" title="var">A1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Val</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Val</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#Transitivity"><span class="id" title="lemma">Transitivity</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">B</span>:=<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <span class="id" title="var">A1</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#SA_rec"><span class="id" title="constructor">SA_rec</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Typ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Typ</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Theorem 11 (Progress) 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="progress"><span class="id" title="lemma">progress</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">e</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="Top.definition.html#typing"><span class="id" title="inductive">typing</span></a> <a class="idref" href="Top.definition.html#empty"><span class="id" title="abbreviation">empty</span></a> <a class="idref" href="Top.typesafety.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Top.typesafety.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Top.definition.html#value"><span class="id" title="inductive">value</span></a> <a class="idref" href="Top.typesafety.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <span class="id" title="var">e'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Top.definition.html#step"><span class="id" title="inductive">step</span></a> <a class="idref" href="Top.typesafety.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Top.typesafety.html#e'"><span class="id" title="variable">e'</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pick</span> <span class="id" title="tactic">fresh</span> <span class="id" title="var">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Y</span> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <span class="id" title="var">L</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#lc_abs"><span class="id" title="constructor">lc_abs</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">L</span>:=<span class="id" title="var">L</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#wf_typ_from_wf_env_typ"><span class="id" title="lemma">wf_typ_from_wf_env_typ</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#wfs_type"><span class="id" title="lemma">wfs_type</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">E</span>:=<a class="idref" href="Top.definition.html#empty"><span class="id" title="abbreviation">empty</span></a>)...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Top.definition.html#empty"><span class="id" title="abbreviation">empty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Program.Equality.html#434d1113484d9653ed9526257009848b"><span class="id" title="notation">~=</span></a> <a class="idref" href="Top.definition.html#empty"><span class="id" title="abbreviation">empty</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHtyping1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Top.definition.html#empty"><span class="id" title="abbreviation">empty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Program.Equality.html#434d1113484d9653ed9526257009848b"><span class="id" title="notation">~=</span></a> <a class="idref" href="Top.definition.html#empty"><span class="id" title="abbreviation">empty</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHtyping2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#canonical_form_abs"><span class="id" title="lemma">canonical_form_abs</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">U1</span>:=<span class="id" title="var">T1</span>) (<span class="id" title="var">U2</span>:=<span class="id" title="var">T2</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="Top.definition.html#open_ee"><span class="id" title="abbreviation">open_ee</span></a> <span class="id" title="var">x0</span> <span class="id" title="var">e2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#step_beta"><span class="id" title="constructor">step_beta</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="Top.definition.html#exp_app"><span class="id" title="constructor">exp_app</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#step_app2"><span class="id" title="constructor">step_app2</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="Top.definition.html#exp_app"><span class="id" title="constructor">exp_app</span></a> <span class="id" title="var">x</span> <span class="id" title="var">e2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#step_app1"><span class="id" title="constructor">step_app1</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Top.definition.html#empty"><span class="id" title="abbreviation">empty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Program.Equality.html#434d1113484d9653ed9526257009848b"><span class="id" title="notation">~=</span></a> <a class="idref" href="Top.definition.html#empty"><span class="id" title="abbreviation">empty</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHtyping</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#wfs_type"><span class="id" title="lemma">wfs_type</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="Top.definition.html#exp_fold"><span class="id" title="constructor">exp_fold</span></a> (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <span class="id" title="var">A</span>) <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#wfs_type"><span class="id" title="lemma">wfs_type</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>...<br/>
&nbsp;&nbsp;-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="Top.definition.html#empty"><span class="id" title="abbreviation">empty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Program.Equality.html#434d1113484d9653ed9526257009848b"><span class="id" title="notation">~=</span></a> <a class="idref" href="Top.definition.html#empty"><span class="id" title="abbreviation">empty</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHtyping</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#canonical_form_fold"><span class="id" title="lemma">canonical_form_fold</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">U</span>:=<span class="id" title="var">T</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">x0</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#step_fld"><span class="id" title="constructor">step_fld</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.subtyping.html#sub_regular"><span class="id" title="lemma">sub_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#wfs_type"><span class="id" title="lemma">wfs_type</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">E</span>:=<a class="idref" href="Top.definition.html#empty"><span class="id" title="abbreviation">empty</span></a>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#wfs_type"><span class="id" title="lemma">wfs_type</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">E</span>:=<a class="idref" href="Top.definition.html#empty"><span class="id" title="abbreviation">empty</span></a>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="Top.definition.html#exp_unfold"><span class="id" title="constructor">exp_unfold</span></a> (<a class="idref" href="Top.definition.html#typ_mu"><span class="id" title="constructor">typ_mu</span></a> <span class="id" title="var">T</span>) <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.definition.html#step_unfold"><span class="id" title="constructor">step_unfold</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.typesafety.html#typing_regular"><span class="id" title="lemma">typing_regular</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Top.infra.html#wfs_type"><span class="id" title="lemma">wfs_type</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">E</span>:=<a class="idref" href="Top.definition.html#empty"><span class="id" title="abbreviation">empty</span></a>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>